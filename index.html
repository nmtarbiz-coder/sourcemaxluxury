<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SourceMax Luxury â€” Pre-Owned Luxury Watches</title>
<meta name="description" content="Buy and sell pre-owned luxury watches. Rolex, Omega, Tudor and more. Authenticated, fairly priced, fast shipping. Conway, Arkansas.">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,700;1,400;1,500&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">

<script>
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  //  PASTE YOUR SUPABASE VALUES HERE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  const SUPABASE_URL  = 'https://kstbnvcozplquymqecck.supabase.co';
  const SUPABASE_ANON = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtzdGJudmNvenBscXV5bXFlY2NrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NzY5ODYsImV4cCI6MjA4NzQ1Mjk4Nn0.RqcYRWvz4O-V1L5NAne8mP-nHKff8V451nAzle3CLWU';
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  // Your contact info â€” update these
  const CONTACT_PHONE     = '(501) 000-0000';
  const CONTACT_EMAIL     = 'info@sourcemaxluxury.com';
  const CONTACT_INSTAGRAM = 'sourcemaxluxury';
  const CONTACT_LOCATION  = 'Conway, Arkansas';
</script>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  /* Dark header palette */
  --header-bg: #2A2A2A;
  --header-border: #3A3A3A;
  /* Light body palette */
  --body-bg: #F5F2ED;
  --body-surface: #FFFFFF;
  --body-surface2: #EEEBE5;
  --body-border: #DDD8D0;
  /* Text */
  --text-dark: #1A1A1A;
  --text-mid: #555050;
  --text-light: #8A8278;
  /* Accents */
  --gold: #B8943A;
  --gold2: #D4AF5A;
  --gold-light: rgba(184,148,58,0.12);
  --charcoal: #2A2A2A;
  --red: #B03A3A;
  --green: #3A7A5A;
}

html { scroll-behavior: smooth; }
body {
  font-family: 'Raleway', sans-serif;
  background: var(--body-bg);
  color: var(--text-dark);
  min-height: 100vh;
  overflow-x: hidden;
}

@keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

/* â”€â”€â”€ PAGE LOADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#page-loader {
  position: fixed; inset: 0;
  background: var(--charcoal);
  z-index: 9999;
  display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 1.25rem;
  transition: opacity 0.6s ease;
}
#page-loader.hidden { opacity: 0; pointer-events: none; }
.loader-logo {
  font-family: 'Playfair Display', serif;
  font-size: 1.8rem; font-weight: 400; letter-spacing: 0.12em;
  color: #C9A84C; text-transform: uppercase;
}
.loader-logo span { font-style: italic; color: #fff; }
.loader-bar { width: 140px; height: 1px; background: #444; position: relative; overflow: hidden; }
.loader-bar::after {
  content: ''; position: absolute; left: -60%; top: 0;
  width: 60%; height: 100%; background: #C9A84C;
  animation: load 1.2s ease infinite;
}
@keyframes load { to { left: 110%; } }

/* â”€â”€â”€ TOP HEADER BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.top-bar {
  background: var(--charcoal);
  padding: 0.5rem 2rem;
  display: flex; align-items: center; justify-content: center;
  gap: 2rem; flex-wrap: wrap;
  border-bottom: 1px solid var(--header-border);
}
.top-bar a {
  font-size: 0.72rem; letter-spacing: 0.1em;
  color: #AAA; text-decoration: none; transition: color 0.15s;
}
.top-bar a:hover { color: #C9A84C; }
.top-bar-divider { color: #444; font-size: 0.7rem; }

/* â”€â”€â”€ MAIN HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
header {
  background: var(--charcoal);
  padding: 1.5rem 2rem 1.25rem;
  text-align: center;
  border-bottom: 3px solid var(--gold);
  position: sticky; top: 0; z-index: 100;
}
.logo-area { margin-bottom: 1rem; }
.logo-text {
  font-family: 'Playfair Display', serif;
  font-size: 2.2rem; font-weight: 500; letter-spacing: 0.2em;
  color: #FFFFFF; text-transform: uppercase; line-height: 1;
}
.logo-text em {
  font-style: italic; color: var(--gold2); font-weight: 400;
}
.logo-tagline {
  font-family: 'Raleway', sans-serif;
  font-size: 0.6rem; letter-spacing: 0.35em; text-transform: uppercase;
  color: #888; margin-top: 0.4rem;
}
.logo-icon { font-size: 1.8rem; margin-bottom: 0.3rem; display: block; }

/* Replace logo-area with image when logo found */
.logo-img { height: 70px; width: auto; display: block; margin: 0 auto 0.5rem; }

header nav {
  display: flex; justify-content: center; gap: 2.5rem;
}
header nav a {
  font-size: 0.68rem; letter-spacing: 0.18em; text-transform: uppercase;
  color: #AAA; text-decoration: none; transition: color 0.15s;
  padding-bottom: 2px; border-bottom: 1px solid transparent;
}
header nav a:hover { color: #fff; border-bottom-color: var(--gold); }

/* â”€â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.hero {
  position: relative;
  height: 75vh; min-height: 500px;
  display: flex; align-items: center; justify-content: center;
  text-align: center; overflow: hidden;
}
.hero-bg {
  position: absolute; inset: 0;
  background:
    linear-gradient(to bottom, rgba(0,0,0,0.55) 0%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.65) 100%),
    url('https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?w=1600&q=80&auto=format') center/cover no-repeat;
}
.hero-content { position: relative; z-index: 1; padding: 2rem; }
.hero-eyebrow {
  font-size: 0.68rem; letter-spacing: 0.35em; text-transform: uppercase;
  color: var(--gold2); margin-bottom: 1.25rem;
  animation: fadeIn 0.8s ease both;
}
.hero-eyebrow::before, .hero-eyebrow::after {
  content: 'â€”â€”'; margin: 0 0.75rem; opacity: 0.5;
}
.hero-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.5rem, 7vw, 5rem);
  font-weight: 400; color: #FFFFFF; line-height: 1.1;
  letter-spacing: 0.02em; margin-bottom: 1.25rem;
  animation: fadeIn 0.8s 0.1s ease both;
}
.hero-title em { font-style: italic; color: var(--gold2); }
.hero-sub {
  font-size: 0.85rem; color: rgba(255,255,255,0.75);
  letter-spacing: 0.05em; margin-bottom: 2.5rem;
  animation: fadeIn 0.8s 0.2s ease both;
}
.hero-btns {
  display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;
  animation: fadeIn 0.8s 0.3s ease both;
}
.btn-hero-primary {
  background: #fff; color: #1A1A1A;
  padding: 0.85rem 2.5rem;
  font-family: 'Raleway', sans-serif;
  font-size: 0.72rem; font-weight: 600; letter-spacing: 0.18em;
  text-transform: uppercase; text-decoration: none;
  transition: background 0.15s, color 0.15s;
  display: inline-block;
}
.btn-hero-primary:hover { background: var(--gold2); color: #1A1A1A; }
.btn-hero-outline {
  background: transparent; color: #fff;
  border: 1px solid rgba(255,255,255,0.6);
  padding: 0.85rem 2.5rem;
  font-family: 'Raleway', sans-serif;
  font-size: 0.72rem; font-weight: 500; letter-spacing: 0.18em;
  text-transform: uppercase; text-decoration: none;
  transition: all 0.15s; display: inline-block;
}
.btn-hero-outline:hover { border-color: #fff; background: rgba(255,255,255,0.1); }

/* â”€â”€â”€ GOLD DIVIDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.gold-divider {
  background: var(--charcoal);
  border-top: 1px solid var(--gold);
  border-bottom: 1px solid var(--gold);
  padding: 1rem 2rem;
  text-align: center;
  display: flex; align-items: center; justify-content: center; gap: 3rem; flex-wrap: wrap;
}
.divider-stat { text-align: center; }
.divider-stat-val {
  font-family: 'Playfair Display', serif;
  font-size: 1.6rem; font-weight: 400; color: var(--gold2);
}
.divider-stat-label {
  font-size: 0.58rem; letter-spacing: 0.2em; text-transform: uppercase; color: #888; margin-top: 0.2rem;
}
.divider-sep { color: #444; font-size: 1.5rem; }

/* â”€â”€â”€ SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.section { padding: 4rem 2rem; max-width: 1400px; margin: 0 auto; }
.section-header { text-align: center; margin-bottom: 3rem; }
.section-eyebrow {
  font-size: 0.62rem; letter-spacing: 0.28em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 0.75rem;
}
.section-title {
  font-family: 'Playfair Display', serif;
  font-size: 2.2rem; font-weight: 400; color: var(--text-dark);
  letter-spacing: 0.02em;
}
.section-title em { font-style: italic; color: var(--gold); }
.section-line {
  width: 60px; height: 2px; background: var(--gold);
  margin: 1rem auto 0;
}

/* â”€â”€â”€ FILTER BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.filter-strip {
  display: flex; gap: 0.75rem; flex-wrap: wrap;
  margin-bottom: 2.5rem; align-items: center;
  padding-bottom: 1.5rem; border-bottom: 1px solid var(--body-border);
}
.filter-input {
  background: #fff; border: 1px solid var(--body-border);
  color: var(--text-dark); padding: 0.6rem 1rem;
  font-family: 'Raleway', sans-serif; font-size: 0.78rem;
  outline: none; width: 280px; transition: border-color 0.15s;
}
.filter-input::placeholder { color: var(--text-light); }
.filter-input:focus { border-color: var(--gold); }
.filter-select {
  background: #fff; border: 1px solid var(--body-border);
  color: var(--text-mid); padding: 0.6rem 0.9rem;
  font-family: 'Raleway', sans-serif; font-size: 0.75rem; outline: none; cursor: pointer;
}
.results-count { font-size: 0.7rem; color: var(--text-light); margin-left: auto; font-style: italic; }

/* â”€â”€â”€ WATCH GRID â€” TALL PORTRAIT CARDS â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.watch-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1.5rem;
}
.watch-card {
  background: var(--body-surface);
  border: 1px solid var(--body-border);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  animation: fadeIn 0.4s ease both;
  display: flex; flex-direction: column;
}
.watch-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,0,0,0.12);
}
.watch-card:hover .watch-photo img { transform: scale(1.04); }

/* TALL PORTRAIT â€” 3:4 ratio */
.watch-photo {
  aspect-ratio: 3/4;
  overflow: hidden;
  background: var(--body-surface2);
  position: relative;
}
.watch-photo img {
  width: 100%; height: 100%; object-fit: cover;
  transition: transform 0.5s ease; display: block;
}
.watch-photo-placeholder {
  width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 0.75rem;
}
.ph-icon { font-size: 3rem; opacity: 0.15; }
.ph-brand {
  font-family: 'Playfair Display', serif;
  font-size: 1rem; letter-spacing: 0.15em; text-transform: uppercase;
  color: var(--text-light); opacity: 0.5;
}
.photo-count-badge {
  position: absolute; bottom: 0.6rem; right: 0.6rem;
  background: rgba(0,0,0,0.65); color: #fff;
  font-size: 0.6rem; padding: 0.2rem 0.5rem; letter-spacing: 0.06em;
}
.watch-tag {
  position: absolute; top: 0.75rem; left: 0.75rem;
  background: var(--charcoal); color: #fff;
  font-size: 0.55rem; letter-spacing: 0.14em; text-transform: uppercase;
  padding: 0.25rem 0.6rem;
}

.watch-info { padding: 1rem 1.1rem 1.25rem; flex: 1; display: flex; flex-direction: column; }
.watch-card-brand {
  font-size: 0.6rem; letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--gold); margin-bottom: 0.35rem; font-weight: 600;
}
.watch-card-model {
  font-family: 'Playfair Display', serif;
  font-size: 1.05rem; line-height: 1.3; color: var(--text-dark);
  margin-bottom: 0.25rem;
}
.watch-card-ref { font-size: 0.68rem; color: var(--text-light); margin-bottom: 0.85rem; }
.watch-card-chips { display: flex; flex-wrap: wrap; gap: 0.3rem; margin-bottom: 1rem; }
.chip {
  font-size: 0.58rem; letter-spacing: 0.06em;
  background: var(--body-surface2); color: var(--text-mid);
  padding: 0.15rem 0.5rem; border: 1px solid var(--body-border);
}
.watch-card-footer {
  display: flex; justify-content: space-between; align-items: center;
  padding-top: 0.85rem; border-top: 1px solid var(--body-border);
  margin-top: auto;
}
.watch-price {
  font-family: 'Playfair Display', serif;
  font-size: 1.3rem; font-weight: 500; color: var(--text-dark);
}
.watch-inquire {
  font-size: 0.6rem; letter-spacing: 0.12em; text-transform: uppercase;
  color: var(--text-mid); background: none;
  border: 1px solid var(--body-border);
  padding: 0.4rem 0.85rem; cursor: pointer;
  font-family: 'Raleway', sans-serif; font-weight: 600;
  transition: all 0.15s;
}
.watch-inquire:hover { background: var(--charcoal); color: #fff; border-color: var(--charcoal); }

/* â”€â”€â”€ LIGHTBOX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.lightbox {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.88); z-index: 600;
  align-items: center; justify-content: center; padding: 1rem;
}
.lightbox.open { display: flex; }
.lb-inner {
  background: #fff; width: 900px; max-width: 100%;
  max-height: 92vh; overflow-y: auto;
  animation: fadeIn 0.2s ease;
  display: grid; grid-template-columns: 1.1fr 1fr;
}
@media(max-width:640px){ .lb-inner { grid-template-columns: 1fr; } }

.lb-photo-panel { background: var(--body-surface2); position: relative; }
.lb-main-img { aspect-ratio: 3/4; overflow: hidden; }
.lb-main-img img { width:100%; height:100%; object-fit:cover; display:block; }
.lb-main-placeholder { aspect-ratio:3/4; display:flex; align-items:center; justify-content:center; font-size:5rem; opacity:0.1; }
.lb-thumbs-row { display:flex; gap:2px; padding:2px; overflow-x:auto; background:var(--body-border); }
.lb-thumb { width:65px; height:65px; flex-shrink:0; overflow:hidden; cursor:pointer; opacity:0.5; transition:opacity 0.15s; }
.lb-thumb.active { opacity:1; outline:2px solid var(--gold); }
.lb-thumb img { width:100%; height:100%; object-fit:cover; }
.lb-close {
  position:absolute; top:0.75rem; right:0.75rem;
  background:rgba(0,0,0,0.5); border:none; color:#fff;
  width:30px; height:30px; border-radius:50%; font-size:0.9rem;
  cursor:pointer; display:flex; align-items:center; justify-content:center; z-index:10;
}

.lb-info { padding: 2rem 1.75rem; display:flex; flex-direction:column; }
.lb-brand { font-size:0.62rem; letter-spacing:0.22em; text-transform:uppercase; color:var(--gold); font-weight:600; margin-bottom:0.4rem; }
.lb-model { font-family:'Playfair Display',serif; font-size:1.7rem; font-weight:400; line-height:1.2; color:var(--text-dark); margin-bottom:0.3rem; }
.lb-ref { font-size:0.72rem; color:var(--text-light); margin-bottom:1rem; padding-bottom:1rem; border-bottom:1px solid var(--body-border); }
.lb-price { font-family:'Playfair Display',serif; font-size:2rem; font-weight:500; color:var(--text-dark); margin-bottom:1.5rem; }
.lb-specs { display:grid; grid-template-columns:1fr 1fr; gap:0.6rem; margin-bottom:1.5rem; }
.lb-spec { background:var(--body-surface2); padding:0.6rem 0.75rem; }
.lb-spec-label { font-size:0.55rem; letter-spacing:0.14em; text-transform:uppercase; color:var(--text-light); margin-bottom:0.2rem; }
.lb-spec-value { font-size:0.8rem; color:var(--text-dark); font-weight:500; }
.lb-notes { font-size:0.75rem; color:var(--text-mid); line-height:1.7; margin-bottom:1.5rem; padding:0.85rem; background:var(--body-surface2); border-left:3px solid var(--gold); }
.lb-actions { display:flex; flex-direction:column; gap:0.6rem; margin-top:auto; }
.lb-btn-primary {
  background:var(--charcoal); color:#fff; border:none;
  padding:0.9rem; font-family:'Raleway',sans-serif;
  font-size:0.72rem; font-weight:600; letter-spacing:0.16em;
  text-transform:uppercase; cursor:pointer; transition:background 0.15s;
}
.lb-btn-primary:hover { background:#444; }
.lb-btn-outline {
  background:none; color:var(--text-mid);
  border:1px solid var(--body-border); padding:0.75rem;
  font-family:'Raleway',sans-serif; font-size:0.68rem;
  letter-spacing:0.12em; text-transform:uppercase; cursor:pointer;
  transition:all 0.15s; text-align:center; text-decoration:none; display:block;
}
.lb-btn-outline:hover { border-color:var(--charcoal); color:var(--charcoal); }

/* â”€â”€â”€ SOLD SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.sold-section-wrap { background: var(--charcoal); padding: 4rem 2rem; }
.sold-section-inner { max-width:1400px; margin:0 auto; }
.sold-section-title {
  font-family:'Playfair Display',serif;
  font-size:1.8rem; font-weight:400; color:#fff;
  text-align:center; margin-bottom:0.5rem;
}
.sold-section-title em { font-style:italic; color:var(--gold2); }
.sold-sub { text-align:center; font-size:0.68rem; letter-spacing:0.16em; text-transform:uppercase; color:#888; margin-bottom:2rem; }
.sold-grid {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(180px,1fr));
  gap:1px; background:var(--header-border);
}
.sold-card {
  background:var(--charcoal); padding:0;
  position:relative; overflow:hidden;
  border-top: 1px solid #3A3A3A;
}
.sold-card::after {
  content:'SOLD'; position:absolute; top:12px; right:-24px;
  background:var(--red); color:#fff;
  font-size:0.5rem; letter-spacing:0.1em; font-weight:700;
  padding:0.2rem 2rem; transform:rotate(45deg);
}
.sold-photo { aspect-ratio:3/4; overflow:hidden; }
.sold-photo img { width:100%; height:100%; object-fit:cover; display:block; filter:grayscale(20%) brightness(0.85); transition: filter 0.3s; }
.sold-card:hover .sold-photo img { filter:grayscale(0%) brightness(1); }
.sold-card-body { padding:0.85rem 1rem; }
.sold-brand { font-size:0.58rem; letter-spacing:0.16em; text-transform:uppercase; color:#666; margin-bottom:0.25rem; }
.sold-model { font-family:'Playfair Display',serif; font-size:0.9rem; color:#AAA; line-height:1.3; }

/* â”€â”€â”€ SELL YOUR WATCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.sell-wrap { background:var(--body-surface); border-top:1px solid var(--body-border); border-bottom:1px solid var(--body-border); }
.sell-inner { max-width:1100px; margin:0 auto; padding:4rem 2rem; display:grid; grid-template-columns:1fr 1fr; gap:4rem; align-items:start; }
@media(max-width:700px){ .sell-inner { grid-template-columns:1fr; gap:2rem; } }

.sell-pitch h2 { font-family:'Playfair Display',serif; font-size:2rem; font-weight:400; margin-bottom:1rem; }
.sell-pitch h2 em { font-style:italic; color:var(--gold); }
.sell-pitch p { font-size:0.8rem; color:var(--text-mid); line-height:1.8; margin-bottom:0.85rem; }
.sell-steps { list-style:none; counter-reset:steps; margin-top:1.5rem; }
.sell-steps li {
  counter-increment:steps; font-size:0.78rem; color:var(--text-mid);
  line-height:1.7; padding-left:2.25rem; position:relative; margin-bottom:0.6rem;
}
.sell-steps li::before {
  content:counter(steps);
  position:absolute; left:0; top:0;
  width:1.5rem; height:1.5rem; background:var(--gold);
  color:#fff; font-size:0.7rem; font-weight:700;
  display:flex; align-items:center; justify-content:center;
}

.form-group { margin-bottom:1rem; }
.form-label { display:block; font-size:0.62rem; letter-spacing:0.14em; text-transform:uppercase; color:var(--text-mid); margin-bottom:0.4rem; font-weight:600; }
.form-input, .form-select, .form-textarea {
  width:100%; background:#fff; border:1px solid var(--body-border);
  color:var(--text-dark); padding:0.7rem 0.9rem;
  font-family:'Raleway',sans-serif; font-size:0.8rem; outline:none;
  transition:border-color 0.15s;
}
.form-input:focus, .form-select:focus, .form-textarea:focus { border-color:var(--gold); }
.form-textarea { resize:vertical; min-height:100px; }
.form-select option { background:#fff; }
.form-row { display:grid; grid-template-columns:1fr 1fr; gap:0.75rem; }
.form-submit {
  width:100%; background:var(--charcoal); color:#fff; border:none;
  padding:0.95rem; font-family:'Raleway',sans-serif;
  font-size:0.75rem; font-weight:600; letter-spacing:0.18em;
  text-transform:uppercase; cursor:pointer; margin-top:0.5rem;
  transition:background 0.15s;
}
.form-submit:hover { background:#444; }

/* â”€â”€â”€ TRUST STRIP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.trust-strip { background:var(--body-surface2); border-top:1px solid var(--body-border); border-bottom:1px solid var(--body-border); }
.trust-inner { max-width:1100px; margin:0 auto; padding:3rem 2rem; display:grid; grid-template-columns:repeat(3,1fr); gap:2rem; }
@media(max-width:640px){ .trust-inner { grid-template-columns:1fr; } }
.trust-item { text-align:center; }
.trust-icon { font-size:2rem; margin-bottom:0.75rem; }
.trust-title { font-family:'Playfair Display',serif; font-size:1.1rem; margin-bottom:0.5rem; }
.trust-desc { font-size:0.75rem; color:var(--text-mid); line-height:1.7; }

/* â”€â”€â”€ CONTACT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.contact-strip { background:var(--charcoal); padding:3.5rem 2rem; }
.contact-inner { max-width:900px; margin:0 auto; text-align:center; }
.contact-title { font-family:'Playfair Display',serif; font-size:1.8rem; font-weight:400; color:#fff; margin-bottom:0.5rem; }
.contact-title em { font-style:italic; color:var(--gold2); }
.contact-sub { font-size:0.75rem; color:#888; margin-bottom:2.5rem; }
.contact-items { display:flex; justify-content:center; gap:3rem; flex-wrap:wrap; }
.contact-item { text-align:center; }
.contact-icon { font-size:1.5rem; margin-bottom:0.5rem; }
.contact-label { font-size:0.58rem; letter-spacing:0.18em; text-transform:uppercase; color:#666; margin-bottom:0.3rem; }
.contact-val { color:var(--gold2); font-size:0.88rem; text-decoration:none; }
.contact-val:hover { color:#fff; }

/* â”€â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
footer { background:#1A1A1A; padding:3rem 2rem; }
.footer-inner { max-width:1200px; margin:0 auto; display:grid; grid-template-columns:1.5fr 1fr 1fr; gap:2.5rem; }
@media(max-width:640px){ .footer-inner { grid-template-columns:1fr; } }
.footer-logo { font-family:'Playfair Display',serif; font-size:1.2rem; letter-spacing:0.15em; text-transform:uppercase; color:#C9A84C; margin-bottom:0.75rem; }
.footer-logo span { font-style:italic; color:#fff; }
.footer-desc { font-size:0.72rem; color:#666; line-height:1.75; }
.footer-heading { font-size:0.58rem; letter-spacing:0.2em; text-transform:uppercase; color:#C9A84C; margin-bottom:1rem; font-weight:600; }
.footer-links { list-style:none; }
.footer-links li { margin-bottom:0.5rem; }
.footer-links a { font-size:0.72rem; color:#666; text-decoration:none; transition:color 0.15s; }
.footer-links a:hover { color:#fff; }
.footer-bottom { max-width:1200px; margin:2rem auto 0; padding-top:1.5rem; border-top:1px solid #2A2A2A; display:flex; justify-content:space-between; flex-wrap:wrap; gap:0.5rem; }
.footer-bottom p { font-size:0.62rem; color:#444; }

/* â”€â”€â”€ EMPTY STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.empty-state { text-align:center; padding:5rem 2rem; }
.empty-state h3 { font-family:'Playfair Display',serif; font-size:1.6rem; font-weight:400; color:var(--text-mid); margin-bottom:0.5rem; }
.empty-state p { font-size:0.78rem; color:var(--text-light); }

/* â”€â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.toast { position:fixed; bottom:2rem; right:2rem; background:var(--charcoal); color:#fff; border-left:3px solid var(--gold); padding:0.85rem 1.25rem; font-size:0.75rem; z-index:9000; display:none; animation:fadeIn 0.2s ease; max-width:320px; font-family:'Raleway',sans-serif; }
.toast.show { display:block; }

::-webkit-scrollbar { width:4px; height:4px; }
::-webkit-scrollbar-track { background:#f0ede8; }
::-webkit-scrollbar-thumb { background:#ccc; }
</style>
</head>
<body>

<!-- LOADER -->
<div id="page-loader">
  <div class="loader-logo">SourceMax <span>Luxury</span></div>
  <div class="loader-bar"></div>
</div>

<!-- TOP BAR -->
<div class="top-bar">
  <a id="tb-phone" href="#"></a>
  <span class="top-bar-divider">|</span>
  <a id="tb-email" href="#"></a>
  <span class="top-bar-divider">|</span>
  <a id="tb-instagram" href="#" target="_blank"></a>
  <span class="top-bar-divider">|</span>
  <a href="#" style="color:#888">Conway, Arkansas</a>
</div>

<!-- HEADER -->
<header>
  <div class="logo-area">
    <!-- LOGO IMAGE â€” uncomment and update src when you have your logo file:
    <img class="logo-img" src="YOUR-LOGO-FILE.png" alt="SourceMax Luxury">
    -->
    <!-- TEXT LOGO â€” remove this block when you add your image logo above -->
    <div class="logo-icon">ğŸ•</div>
    <div class="logo-text">SourceMax <em>Luxury</em></div>
    <div class="logo-tagline">Pre-Owned Luxury Timepieces Â· Conway, Arkansas</div>
  </div>
  <nav>
    <a href="#available">Available Watches</a>
    <a href="#sell">Sell Your Watch</a>
    <a href="#contact">Contact</a>
  </nav>
</header>

<!-- HERO -->
<section class="hero">
  <div class="hero-bg"></div>
  <div class="hero-content">
    <div class="hero-eyebrow">Welcome</div>
    <h1 class="hero-title">Luxury Watches<br><em>Done Right</em></h1>
    <p class="hero-sub">Personally sourced Â· Authenticated Â· Fairly priced</p>
    <div class="hero-btns">
      <a href="#available" class="btn-hero-primary">Shop All Watches</a>
      <a href="#sell" class="btn-hero-outline">Sell Your Watch</a>
    </div>
  </div>
</section>

<!-- STATS DIVIDER -->
<div class="gold-divider">
  <div class="divider-stat">
    <div class="divider-stat-val" id="stat-available">â€”</div>
    <div class="divider-stat-label">Available Now</div>
  </div>
  <div class="divider-sep">Â·</div>
  <div class="divider-stat">
    <div class="divider-stat-val" id="stat-sold">â€”</div>
    <div class="divider-stat-label">Watches Sold</div>
  </div>
  <div class="divider-sep">Â·</div>
  <div class="divider-stat">
    <div class="divider-stat-val">100%</div>
    <div class="divider-stat-label">Authenticated</div>
  </div>
  <div class="divider-sep">Â·</div>
  <div class="divider-stat">
    <div class="divider-stat-val">24hr</div>
    <div class="divider-stat-label">Response Time</div>
  </div>
</div>

<!-- CURRENTLY AVAILABLE -->
<section class="section" id="available">
  <div class="section-header">
    <div class="section-eyebrow">In Stock</div>
    <h2 class="section-title">Currently <em>Available</em></h2>
    <div class="section-line"></div>
  </div>

  <div class="filter-strip">
    <input class="filter-input" type="text" id="search-input" placeholder="Search brand, model, reference..." oninput="filterWatches()">
    <select class="filter-select" id="brand-filter" onchange="filterWatches()">
      <option value="">All Brands</option>
    </select>
    <select class="filter-select" id="sort-select" onchange="filterWatches()">
      <option value="newest">Newest First</option>
      <option value="price-asc">Price: Low to High</option>
      <option value="price-desc">Price: High to Low</option>
    </select>
    <div class="results-count" id="results-count"></div>
  </div>

  <div class="watch-grid" id="watch-grid"></div>
  <div class="empty-state" id="no-results" style="display:none">
    <h3>No watches found</h3>
    <p>Try clearing your filters â€” new watches added regularly.</p>
  </div>
</section>

<!-- TRUST STRIP -->
<div class="trust-strip">
  <div class="trust-inner">
    <div class="trust-item">
      <div class="trust-icon">ğŸ”</div>
      <div class="trust-title">Personally Authenticated</div>
      <div class="trust-desc">Every watch inspected for authenticity and condition before listing. What you see is what you get.</div>
    </div>
    <div class="trust-item">
      <div class="trust-icon">ğŸ“¦</div>
      <div class="trust-title">Insured Shipping</div>
      <div class="trust-desc">Fully insured on every order. Secure packaging, tracking provided, ships within 24 hours of payment.</div>
    </div>
    <div class="trust-item">
      <div class="trust-icon">ğŸ¤</div>
      <div class="trust-title">Fair Market Pricing</div>
      <div class="trust-desc">No retail markups. Priced based on current market comps. Trades and cash considered.</div>
    </div>
  </div>
</div>

<!-- RECENTLY SOLD -->
<div class="sold-section-wrap" id="sold-wrap">
  <div class="sold-section-inner">
    <div class="sold-section-title">Recently <em>Gone</em></div>
    <div class="sold-sub">These moved fast â€” new inventory added regularly</div>
    <div class="sold-grid" id="sold-grid"></div>
  </div>
</div>

<!-- SELL YOUR WATCH -->
<div class="sell-wrap" id="sell">
  <div class="sell-inner">
    <div class="sell-pitch">
      <h2>Sell Your <em>Watch</em></h2>
      <p>Looking to sell a luxury timepiece? I offer fair, competitive offers based on current market conditions â€” fast payment, no hassle.</p>
      <p>Rolex, Omega, Tudor, Cartier, AP, Patek and more. Box and papers always a plus but not required.</p>
      <ol class="sell-steps">
        <li>Fill out the form with your watch details</li>
        <li>I'll respond within 24 hours with an offer</li>
        <li>Accept and ship with a prepaid insured label</li>
        <li>Get paid promptly upon receipt and verification</li>
      </ol>
    </div>
    <div>
      <div class="form-group">
        <label class="form-label">Your Name *</label>
        <input class="form-input" id="sell-name" placeholder="Full name">
      </div>
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Phone</label>
          <input class="form-input" id="sell-phone" type="tel" placeholder="(555) 000-0000">
        </div>
        <div class="form-group">
          <label class="form-label">Email *</label>
          <input class="form-input" id="sell-email" type="email" placeholder="you@email.com">
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">Watch Brand *</label>
        <input class="form-input" id="sell-brand" placeholder="e.g. Rolex, Omega, Tudor...">
      </div>
      <div class="form-group">
        <label class="form-label">Model / Reference</label>
        <input class="form-input" id="sell-model" placeholder="e.g. Submariner 126610LN">
      </div>
      <div class="form-group">
        <label class="form-label">Box & Papers?</label>
        <select class="form-select" id="sell-papers">
          <option value="">â€” Select â€”</option>
          <option>Full Set (Box + Papers)</option>
          <option>Box Only</option>
          <option>Papers Only</option>
          <option>No Box, No Papers</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Condition & Notes</label>
        <textarea class="form-textarea" id="sell-notes" placeholder="Describe condition, any scratches, service history, asking price..."></textarea>
      </div>
      <button class="form-submit" onclick="submitSellInquiry()">Submit for Offer</button>
      <div id="sell-msg" style="font-size:0.72rem;margin-top:0.75rem;text-align:center;font-family:'Raleway',sans-serif"></div>
    </div>
  </div>
</div>

<!-- CONTACT -->
<div class="contact-strip" id="contact">
  <div class="contact-inner">
    <div class="contact-title">Get In <em>Touch</em></div>
    <div class="contact-sub">Available by phone, text, email, or Instagram. Quick responses guaranteed.</div>
    <div class="contact-items">
      <div class="contact-item">
        <div class="contact-icon">ğŸ“</div>
        <div class="contact-label">Phone / Text</div>
        <a class="contact-val" id="c-phone" href="#"></a>
      </div>
      <div class="contact-item">
        <div class="contact-icon">âœ‰ï¸</div>
        <div class="contact-label">Email</div>
        <a class="contact-val" id="c-email" href="#"></a>
      </div>
      <div class="contact-item">
        <div class="contact-icon">ğŸ“¸</div>
        <div class="contact-label">Instagram</div>
        <a class="contact-val" id="c-instagram" href="#" target="_blank"></a>
      </div>
      <div class="contact-item">
        <div class="contact-icon">ğŸ“</div>
        <div class="contact-label">Location</div>
        <div class="contact-val" id="c-location"></div>
      </div>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-inner">
    <div>
      <div class="footer-logo">SourceMax <span>Luxury</span></div>
      <p class="footer-desc">Pre-owned luxury watches personally sourced, authenticated, and fairly priced. Based in Conway, Arkansas.</p>
    </div>
    <div>
      <div class="footer-heading">Navigation</div>
      <ul class="footer-links">
        <li><a href="#available">Available Watches</a></li>
        <li><a href="#sell">Sell Your Watch</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </div>
    <div>
      <div class="footer-heading">Contact</div>
      <ul class="footer-links">
        <li><a id="f-phone" href="#">â€”</a></li>
        <li><a id="f-email" href="#">â€”</a></li>
        <li><a id="f-ig" href="#" target="_blank">â€”</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">
    <p>Â© 2025 SourceMax Luxury. All rights reserved.</p>
    <p>All watches guaranteed authentic. Prior sale possible.</p>
  </div>
</footer>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox" onclick="closeLbOverlay(event)">
  <div class="lb-inner">
    <div class="lb-photo-panel">
      <button class="lb-close" onclick="closeLb()">âœ•</button>
      <div id="lb-main"></div>
      <div class="lb-thumbs-row" id="lb-thumbs"></div>
    </div>
    <div class="lb-info" id="lb-info"></div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const { createClient } = supabase;
const db = createClient(SUPABASE_URL, SUPABASE_ANON);

let allWatches = [], soldWatches = [], lbPhotos = [], lbIdx = 0;

// Contact info
function setContact() {
  const phone = CONTACT_PHONE, email = CONTACT_EMAIL, ig = CONTACT_INSTAGRAM, loc = CONTACT_LOCATION;
  document.getElementById('tb-phone').textContent = phone;
  document.getElementById('tb-phone').href = 'tel:'+phone.replace(/\D/g,'');
  document.getElementById('tb-email').textContent = email;
  document.getElementById('tb-email').href = 'mailto:'+email;
  document.getElementById('tb-instagram').textContent = '@'+ig;
  document.getElementById('tb-instagram').href = 'https://instagram.com/'+ig;
  document.getElementById('c-phone').textContent = phone;
  document.getElementById('c-phone').href = 'tel:'+phone.replace(/\D/g,'');
  document.getElementById('c-email').textContent = email;
  document.getElementById('c-email').href = 'mailto:'+email;
  document.getElementById('c-instagram').textContent = '@'+ig;
  document.getElementById('c-instagram').href = 'https://instagram.com/'+ig;
  document.getElementById('c-location').textContent = loc;
  document.getElementById('f-phone').textContent = phone;
  document.getElementById('f-phone').href = 'tel:'+phone.replace(/\D/g,'');
  document.getElementById('f-email').textContent = email;
  document.getElementById('f-email').href = 'mailto:'+email;
  document.getElementById('f-ig').textContent = '@'+ig;
  document.getElementById('f-ig').href = 'https://instagram.com/'+ig;
}
setContact();

async function init() {
  try {
    const [invRes, soldRes] = await Promise.all([
      db.from('inventory').select('*').order('created_at', { ascending: false }),
      db.from('sold_inventory').select('brand,model,ref,sale_date,photo_urls').order('sale_date', { ascending: false }).limit(24)
    ]);
    allWatches = invRes.data || [];
    soldWatches = soldRes.data || [];
  } catch(e) { allWatches = []; soldWatches = []; }

  document.getElementById('stat-available').textContent = allWatches.length;
  document.getElementById('stat-sold').textContent = soldWatches.length + '+';

  // Brand filter
  const brands = [...new Set(allWatches.map(w=>w.brand).filter(Boolean))].sort();
  const sel = document.getElementById('brand-filter');
  brands.forEach(b => { const o=document.createElement('option'); o.value=b; o.textContent=b; sel.appendChild(o); });

  renderWatches(allWatches);
  renderSold();
  hideLoader();
}

function hideLoader() {
  const l = document.getElementById('page-loader');
  l.classList.add('hidden');
  setTimeout(()=>l.style.display='none', 700);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  WATCH GRID
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function filterWatches() {
  const q = document.getElementById('search-input').value.toLowerCase();
  const brand = document.getElementById('brand-filter').value;
  const sort = document.getElementById('sort-select').value;

  let filtered = allWatches.filter(w => {
    const txt = `${w.brand} ${w.model} ${w.ref}`.toLowerCase();
    return txt.includes(q) && (!brand || w.brand===brand);
  });

  filtered.sort((a,b) => {
    if(sort==='price-asc') return (a.listed_price||0)-(b.listed_price||0);
    if(sort==='price-desc') return (b.listed_price||0)-(a.listed_price||0);
    return new Date(b.created_at||0)-new Date(a.created_at||0);
  });

  renderWatches(filtered);
  document.getElementById('results-count').textContent =
    filtered.length !== allWatches.length ? `Showing ${filtered.length} of ${allWatches.length}` : `${allWatches.length} watches`;
}

function renderWatches(watches) {
  const grid = document.getElementById('watch-grid');
  const noRes = document.getElementById('no-results');
  if (!watches.length) { grid.innerHTML=''; noRes.style.display='block'; return; }
  noRes.style.display='none';

  grid.innerHTML = watches.map((w,i) => {
    const photos = w.photo_urls || [];
    const mainPhoto = photos[0];
    const price = w.listed_price ? '$'+Number(w.listed_price).toLocaleString() : 'Inquire for Price';
    const chips = [w.condition, w.box_papers, w.case_material].filter(Boolean).slice(0,3);

    return `<div class="watch-card" onclick="openLb('${w.id}')" style="animation-delay:${Math.min(i,12)*0.04}s">
      <div class="watch-photo">
        ${mainPhoto
          ? `<img src="${mainPhoto}" alt="${w.brand||''} ${w.model||''}" loading="lazy">`
          : `<div class="watch-photo-placeholder"><div class="ph-icon">ğŸ•</div><div class="ph-brand">${w.brand||''}</div></div>`
        }
        ${photos.length>1?`<div class="photo-count-badge">ğŸ“· ${photos.length}</div>`:''}
        ${w.box_papers==='Full Set (Box + Papers)'?`<div class="watch-tag">Full Set</div>`:''}
      </div>
      <div class="watch-info">
        <div class="watch-card-brand">${w.brand||''}${w.year?' Â· '+w.year:''}</div>
        <div class="watch-card-model">${w.model||''}</div>
        <div class="watch-card-ref">${w.ref||'â€”'}</div>
        ${chips.length?`<div class="watch-card-chips">${chips.map(c=>`<span class="chip">${c}</span>`).join('')}</div>`:''}
        <div class="watch-card-footer">
          <div class="watch-price">${price}</div>
          <button class="watch-inquire" onclick="event.stopPropagation();doInquire('${(w.brand||'')+' '+(w.model||'')}')">Inquire</button>
        </div>
      </div>
    </div>`;
  }).join('');

  document.getElementById('results-count').textContent = `${watches.length} watch${watches.length!==1?'es':''}`;
}

function renderSold() {
  if(!soldWatches.length){ document.getElementById('sold-wrap').style.display='none'; return; }
  document.getElementById('sold-grid').innerHTML = soldWatches.map(s => {
    const photo = s.photo_urls && s.photo_urls[0];
    return `<div class="sold-card">
      ${photo ? `<div class="sold-photo"><img src="${photo}" alt="${s.brand||''} ${s.model||''}" loading="lazy"></div>` : ''}
      <div class="sold-card-body">
        <div class="sold-brand">${s.brand||''}</div>
        <div class="sold-model">${s.model||''}</div>
      </div>
    </div>`;
  }).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  LIGHTBOX
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openLb(id) {
  const w = allWatches.find(x=>x.id===id); if(!w) return;
  lbPhotos = w.photo_urls||[]; lbIdx=0;

  const mainEl = document.getElementById('lb-main');
  mainEl.innerHTML = lbPhotos.length
    ? `<div class="lb-main-img"><img src="${lbPhotos[0]}" alt="${w.brand||''} ${w.model||''}"></div>`
    : `<div class="lb-main-placeholder">ğŸ•</div>`;

  document.getElementById('lb-thumbs').innerHTML = lbPhotos.length>1
    ? lbPhotos.map((p,i)=>`<div class="lb-thumb ${i===0?'active':''}" onclick="setLbImg(${i})"><img src="${p}" alt="Photo ${i+1}"></div>`).join('')
    : '';

  const price = w.listed_price ? '$'+Number(w.listed_price).toLocaleString() : 'Inquire for Price';
  const specs = [
    w.condition&&{l:'Condition',v:w.condition},
    w.box_papers&&{l:'Box & Papers',v:w.box_papers},
    w.case_size&&{l:'Case Size',v:w.case_size},
    w.case_material&&{l:'Material',v:w.case_material},
    w.movement&&{l:'Movement',v:w.movement},
    w.dial_color&&{l:'Dial',v:w.dial_color},
    w.bezel_color&&{l:'Bezel',v:w.bezel_color},
    w.bracelet_type&&{l:'Bracelet',v:w.bracelet_type},
    w.year&&{l:'Year',v:w.year},
    w.ref&&{l:'Reference',v:w.ref},
  ].filter(Boolean);

  document.getElementById('lb-info').innerHTML = `
    <div class="lb-brand">${w.brand||''}</div>
    <div class="lb-model">${w.model||''}</div>
    <div class="lb-ref">${w.ref||''}${w.year?' Â· '+w.year:''}</div>
    <div class="lb-price">${price}</div>
    ${specs.length?`<div class="lb-specs">${specs.map(s=>`<div class="lb-spec"><div class="lb-spec-label">${s.l}</div><div class="lb-spec-value">${s.v}</div></div>`).join('')}</div>`:''}
    ${w.notes?`<div class="lb-notes">${w.notes}</div>`:''}
    <div class="lb-actions">
      <button class="lb-btn-primary" onclick="doInquire('${(w.brand||'')+' '+(w.model||'')}')">Inquire About This Watch</button>
      <a class="lb-btn-outline" href="sms:${CONTACT_PHONE.replace(/\D/g,'')}&body=Hi, I'm interested in the ${encodeURIComponent((w.brand||'')+' '+(w.model||''))}">Text Us Directly</a>
      <a class="lb-btn-outline" href="mailto:${CONTACT_EMAIL}?subject=Inquiry: ${encodeURIComponent((w.brand||'')+' '+(w.model||''))}">Send Email</a>
    </div>
  `;

  document.getElementById('lightbox').classList.add('open');
  document.body.style.overflow='hidden';
}

function setLbImg(i) {
  lbIdx=i;
  document.getElementById('lb-main').innerHTML=`<div class="lb-main-img"><img src="${lbPhotos[i]}" alt="Photo ${i+1}"></div>`;
  document.querySelectorAll('.lb-thumb').forEach((t,j)=>t.classList.toggle('active',j===i));
}

function closeLb() { document.getElementById('lightbox').classList.remove('open'); document.body.style.overflow=''; }
function closeLbOverlay(e) { if(e.target===document.getElementById('lightbox'))closeLb(); }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CONTACT / SELL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function doInquire(watch) {
  closeLb();
  window.location.href=`mailto:${CONTACT_EMAIL}?subject=Inquiry: ${encodeURIComponent(watch)}&body=Hi, I'm interested in the ${encodeURIComponent(watch)}. Is it still available?`;
}

function submitSellInquiry() {
  const name=document.getElementById('sell-name').value.trim();
  const email=document.getElementById('sell-email').value.trim();
  const brand=document.getElementById('sell-brand').value.trim();
  const msg=document.getElementById('sell-msg');
  if(!name||!email||!brand){ msg.style.color='#B03A3A'; msg.textContent='Please fill in name, email, and brand.'; return; }
  const model=document.getElementById('sell-model').value.trim();
  const papers=document.getElementById('sell-papers').value;
  const notes=document.getElementById('sell-notes').value.trim();
  const phone=document.getElementById('sell-phone').value.trim();
  const body=`Sell Inquiry\n\nName: ${name}\nPhone: ${phone}\nEmail: ${email}\n\nWatch: ${brand} ${model}\nBox & Papers: ${papers}\n\nNotes:\n${notes}`;
  window.location.href=`mailto:${CONTACT_EMAIL}?subject=Sell Inquiry: ${encodeURIComponent(brand+' '+model)}&body=${encodeURIComponent(body)}`;
  msg.style.color='#3A7A5A'; msg.textContent='Opening your email app â€” we respond within 24 hours!';
}

function showToast(m){ const t=document.getElementById('toast'); t.textContent=m; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),3500); }

init();
</script>
</body>
</html>
